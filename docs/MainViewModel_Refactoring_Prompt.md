# –ü–æ–¥—Ä–æ–±–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ MainViewModel

## üìã –ö–æ–Ω—Ç–µ–∫—Å—Ç –∑–∞–¥–∞—á–∏

–¢–µ–∫—É—â–∏–π `MainViewModel` (~560 —Å—Ç—Ä–æ–∫) –Ω–∞—Ä—É—à–∞–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (SRP), –æ–±—ä–µ–¥–∏–Ω—è—è
–ª–æ–≥–∏–∫—É –¥–ª—è:

- –ù–∞–ø–∏—Å–∞–Ω–∏—è –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π (Write Tab)
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤ (My Posts Tab)
- –í—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –æ—Ç–≤–µ—Ç–æ–≤ (Inbox Tab)
- –ù–∞–≤–∏–≥–∞—Ü–∏–∏ –º–µ–∂–¥—É —Ç–∞–±–∞–º–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∂–∏–º–∞–º–∏ (Shine/Shadow)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è —á–µ—Ä–Ω–æ–≤–∏–∫–∞–º–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∏ shared text

## üéØ –¶–µ–ª—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

–†–∞–∑–¥–µ–ª–∏—Ç—å `MainViewModel` –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö ViewModel'–æ–≤ —Å —á—ë—Ç–∫–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é, —Å–æ—Ö—Ä–∞–Ω—è—è:

- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º UI (Composable —Ñ—É–Ω–∫—Ü–∏–∏)
- –†–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å `MainScreenContract` (–∏–ª–∏ –µ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ)
- –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã –¥–ª—è shared state (—Ä–µ–∂–∏–º, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É Clean Architecture + MVVM

---

## üèóÔ∏è –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### 1. `WriteTabViewModel` ‚Äî –ù–∞–ø–∏—Å–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**

- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–æ–º (`draftMessage`)
- –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π (`onSendMessage`)
- –°—Ç–∞—Ç—É—Å –æ—Ç–ø—Ä–∞–≤–∫–∏ (`sendStatus`, `isSending`)
- –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–∞
- –û–±—Ä–∞–±–æ—Ç–∫–∞ shared text –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª–∏–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏—è

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**

- `MessageRepository`
- `DraftRepository`
- `SharedTextManager`
- `PreferenceManager` (–¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è currentMode)

**State:**

```kotlin
data class WriteTabState(
    val draftMessage: String = "",
    val sendStatus: SendMessageStatus = SendMessageStatus.Idle,
    val isSending: Boolean = false,
    val currentMode: Mode = Mode.SHINE,
    val hasSharedText: Boolean = false
)
```

---

### 2. `MyPostsTabViewModel` ‚Äî –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**

- –ü–æ–ª—É—á–µ–Ω–∏–µ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏—Å—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (`outcomingMessages`)
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–µ–∫—É—â–µ–º—É —Ä–µ–∂–∏–º—É
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**

- `MessageRepository`
- `PreferenceManager` (–¥–ª—è currentMode)

**State:**

```kotlin
data class MyPostsTabState(
    val outcomingMessages: UiState<List<Message>> = UiState.Loading,
    val currentMode: Mode = Mode.SHINE
)
```

---

### 3. `InboxTabViewModel` ‚Äî –í—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**

- –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (`incomingMessages`)
- –û—Ç–≤–µ—Ç—ã –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è (`onSendReply`)
- –†–µ–π—Ç–∏–Ω–≥ —Å–æ–æ–±—â–µ–Ω–∏–π (`onRateMessage`)
- –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (`highlightedMessageId`)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º "–æ—Ç–≤–µ—á–∞—é –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ"
- Snackbar —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è inbox
- –ü–æ–º–µ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**

- `MessageRepository`
- `CreateReplyUseCase`
- `RateMessageUseCase`
- `TrackNotificationEventUseCase`
- `NotificationManagerRepository`
- `PreferenceManager`

**State:**

```kotlin
data class InboxTabState(
    val incomingMessages: UiState<List<Message>> = UiState.Loading,
    val currentMode: Mode = Mode.SHINE,
    val highlightedMessageId: String? = null,
    val replyingMessageId: String? = null,
    val userRepliesForMessage: List<Reply> = emptyList(),
    val isReplySending: Boolean = false,
    val replyError: String? = null,
    val snackbarMessage: String? = null
)
```

---

### 4. `ModeManager` / `ModeViewModel` ‚Äî –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞–º–∏ (shared)

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**

- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ Shine/Shadow
- –•—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Ä–µ–∂–∏–º–∞
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è `hasSeenModeToggleTip`

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**

- `PreferenceManager`

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- Singleton –∏–ª–∏ @ActivityRetainedScoped
- Expose –∫–∞–∫ StateFlow –¥–ª—è –¥—Ä—É–≥–∏—Ö ViewModel'–æ–≤
- –ú–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –≤ PreferenceManager –µ—Å–ª–∏ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

---

### 5. `TabNavigationViewModel` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**

- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –≤–∫–ª–∞–¥–∫–æ–π (`currentTab`)
- –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:**
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å NavController –Ω–∞–ø—Ä—è–º—É—é –±–µ–∑ ViewModel

---

## üìù –ü–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

### –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

1. –°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã) –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∞–±–∞:
    - `WriteTabContract`
    - `MyPostsTabContract`
    - `InboxTabContract`

2. –°–æ–∑–¥–∞—Ç—å sealed –∫–ª–∞—Å—Å—ã –¥–ª—è UI State –∫–∞–∂–¥–æ–≥–æ —Ç–∞–±–∞

### –≠—Ç–∞–ø 2: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ ViewModel'–æ–≤

1. –°–æ–∑–¥–∞—Ç—å `WriteTabViewModel`:
    - –ò–∑–≤–ª–µ—á—å –ª–æ–≥–∏–∫—É —á–µ—Ä–Ω–æ–≤–∏–∫–∞
    - –ò–∑–≤–ª–µ—á—å –ª–æ–≥–∏–∫—É –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
    - –ò–∑–≤–ª–µ—á—å –æ–±—Ä–∞–±–æ—Ç–∫—É shared text
    - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å `DraftRepository` –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é

2. –°–æ–∑–¥–∞—Ç—å `MyPostsTabViewModel`:
    - –ò–∑–≤–ª–µ—á—å –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ –∑–∞ `outcomingMessages`
    - –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ —Ä–µ–∂–∏–º—É

3. –†–∞—Å—à–∏—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `InboxTabViewModel` –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π:
    - –ò–∑–≤–ª–µ—á—å –ª–æ–≥–∏–∫—É –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
    - –ò–∑–≤–ª–µ—á—å –ª–æ–≥–∏–∫—É –æ—Ç–≤–µ—Ç–æ–≤ –∏ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤
    - –ò–∑–≤–ª–µ—á—å –ª–æ–≥–∏–∫—É –ø–æ–¥—Å–≤–µ—Ç–∫–∏

### –≠—Ç–∞–ø 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI

1. –û–±–Ω–æ–≤–∏—Ç—å `WriteTab.kt` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `WriteTabViewModel`
2. –û–±–Ω–æ–≤–∏—Ç—å `MyPostsTab.kt` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `MyPostsTabViewModel`
3. –û–±–Ω–æ–≤–∏—Ç—å `InboxTab.kt` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `InboxTabViewModel`
4. –û–±–Ω–æ–≤–∏—Ç—å `AppNavigation.kt` - —Å–æ–∑–¥–∞—Ç—å ViewModel'—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö scope'–∞—Ö

### –≠—Ç–∞–ø 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è shared state

1. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `currentMode` —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω –º–µ–∂–¥—É –≤—Å–µ–º–∏ ViewModel'–∞–º–∏
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `PreferenceManager.currentMode` –∫–∞–∫ –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã
3. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–æ–∑–¥–∞—Ç—å SharedStateManager

### –≠—Ç–∞–ø 5: –û—á–∏—Å—Ç–∫–∞

1. –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–¥ –∏–∑ `MainViewModel`
2. –û—Å—Ç–∞–≤–∏—Ç—å `MainViewModel` –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é
3. –û–±–Ω–æ–≤–∏—Ç—å `MainScreenContract` –∏–ª–∏ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
4. –û–±–Ω–æ–≤–∏—Ç—å `PreviewMainScreenContract` –¥–ª—è –ø—Ä–µ–≤—å—é

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### Shared State –º–µ–∂–¥—É —Ç–∞–±–∞–º–∏

- `currentMode` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–±—â–∏–º –¥–ª—è –≤—Å–µ—Ö —Ç–∞–±–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `PreferenceManager.currentMode` –∫–∞–∫ StateFlow
- –ö–∞–∂–¥—ã–π ViewModel –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —ç—Ç–æ—Ç flow

### Scoping ViewModel'–æ–≤

```kotlin
// –í AppNavigation.kt
composable<WriteTabRoute> {
    val writeViewModel: WriteTabViewModel = hiltViewModel()
    WriteTab(viewModel = writeViewModel)
}

composable<InboxTabRoute> {
    val inboxViewModel: InboxTabViewModel = hiltViewModel()
    InboxTab(viewModel = inboxViewModel)
}
```

### –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- –ï—Å–ª–∏ `MainScreenContract` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ç–µ—Å—Ç–∞—Ö/–ø—Ä–µ–≤—å—é, –º–æ–∂–Ω–æ:
    - –û—Å—Ç–∞–≤–∏—Ç—å –µ–≥–æ –∫–∞–∫ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
    - –ò–ª–∏ —Å–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ Preview –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∞–±–∞

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π

- `refreshMessages()` –¥–æ–ª–∂–µ–Ω –æ–±–Ω–æ–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –≤–æ –≤—Å–µ—Ö ViewModel'–∞—Ö
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Repository –∫–∞–∫ –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã
- ViewModel'—ã –Ω–∞–±–ª—é–¥–∞—é—Ç –∑–∞ Flow –∏–∑ Repository

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

```
presentation/src/main/kotlin/.../ui/main/
‚îú‚îÄ‚îÄ tabs/
‚îÇ   ‚îú‚îÄ‚îÄ write/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ WriteTab.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ WriteTabViewModel.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ WriteTabContract.kt
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ WriteTabState.kt
‚îÇ   ‚îú‚îÄ‚îÄ myposts/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MyPostsTab.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MyPostsTabViewModel.kt
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MyPostsTabContract.kt
‚îÇ   ‚îú‚îÄ‚îÄ inbox/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ InboxTab.kt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ InboxTabViewModel.kt
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ InboxTabContract.kt
‚îÇ   ‚îî‚îÄ‚îÄ account/
‚îÇ       ‚îú‚îÄ‚îÄ AccountTab.kt
‚îÇ       ‚îî‚îÄ‚îÄ AccountTabViewModel.kt (—É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
‚îú‚îÄ‚îÄ MainTab.kt (enum)
‚îú‚îÄ‚îÄ SendMessageStatus.kt
‚îî‚îÄ‚îÄ preview/
    ‚îú‚îÄ‚îÄ PreviewWriteTabContract.kt
    ‚îú‚îÄ‚îÄ PreviewInboxTabContract.kt
    ‚îî‚îÄ‚îÄ ...
```

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

1. ‚úÖ –ö–∞–∂–¥—ã–π ViewModel –∏–º–µ–µ—Ç –æ–¥–Ω—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
2. ‚úÖ –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
3. ‚úÖ UI —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–Ω—Ç–∏—á–Ω–æ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏
4. ‚úÖ –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ –º–µ–∂–¥—É ViewModel'–∞–º–∏
5. ‚úÖ Shared state —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω –º–µ–∂–¥—É —Ç–∞–±–∞–º–∏
6. ‚úÖ Preview —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
7. ‚úÖ –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è (`./gradlew assembleDebug`)

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è

- `MainViewModel.kt` ‚Äî —Ä–∞–∑–¥–µ–ª–∏—Ç—å
- `MainScreenContract.kt` ‚Äî —Ä–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã
- `WriteTab.kt` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å ViewModel
- `MyPostsTab.kt` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å ViewModel
- `InboxTab.kt` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å ViewModel
- `AppNavigation.kt` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ ViewModel'–æ–≤
- `PreviewMainScreenContract.kt` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å –∏–ª–∏ —Ä–∞–∑–¥–µ–ª–∏—Ç—å

